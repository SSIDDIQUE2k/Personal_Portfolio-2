{% extends "admin/base.html" %}
{% load static %}

{% block title %}{{ title }} | Portfolio Admin{% endblock %}

{% block branding %}
<h1 id="site-name"><a href="{% url 'admin:index' %}">Portfolio Admin Dashboard</a></h1>
{% endblock %}

{% block extrahead %}
{{ block.super }}
<!-- Bootstrap CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
<!-- Font Awesome -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
<!-- Custom Admin Dashboard CSS -->
<link rel="stylesheet" type="text/css" href="{% static 'admin/css/admin-dashboard.css' %}">
{% if theme %}
<style>
  :root {
    --primary: {{ theme.primary }};
    --secondary: {{ theme.secondary }};
    --tertiary: {{ theme.tertiary }};
    --accent: {{ theme.accent }};
    --title-color: {{ theme.title_color }};
    --text-color: {{ theme.text_color }};
    --skin-color: var(--primary);
  }
  {% if theme.background_animation == 'cybergrid' %}
  body::before {
    content: '';
    position: fixed; inset: 0; z-index: -1; pointer-events: none;
    background-image:
      linear-gradient(rgba(0,255,136,0.08) 1px, transparent 1px),
      linear-gradient(90deg, rgba(0,255,136,0.08) 1px, transparent 1px);
    background-size: 40px 40px, 40px 40px;
    animation: adminGridGlow 3s ease-in-out infinite alternate;
  }
  @keyframes adminGridGlow {
    0% { opacity: .18; filter: drop-shadow(0 0 0px var(--primary)); }
    100% { opacity: .4; filter: drop-shadow(0 0 6px var(--primary)); }
  }
  {% elif theme.background_animation == 'scanlines' %}
  body::before {
    content: '';
    position: fixed; inset: 0; z-index: -1; pointer-events: none;
    background: linear-gradient(transparent 50%, rgba(139, 92, 246, 0.05) 50%, rgba(139, 92, 246, 0.05) 52%, transparent 52%);
    background-size: 100% 6px;
    animation: adminScanlines 0.15s linear infinite;
  }
  @keyframes adminScanlines { 0% { transform: translateY(0); } 100% { transform: translateY(6px); } }
  {% endif %}
</style>
{% endif %}
<style>
  /* Override Django admin styles with modern dashboard look */
  #header {
    background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
    color: white;
    height: 56px;
    line-height: 56px;
  }
  
  #branding h1, #branding h1 a:link, #branding h1 a:visited {
    color: white;
    font-weight: 600;
    font-size: 1.5rem;
  }
  
  #user-tools {
    color: white;
    float: right;
    margin: 0 20px 0 0;
    line-height: 56px;
  }
  
  #user-tools a {
    color: rgba(255,255,255,0.9);
    text-decoration: none;
    border-bottom: none;
  }
  
  #user-tools a:hover {
    color: white;
  }
  
  .module {
    background: white;
    border: none;
    border-radius: 12px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    margin-bottom: 20px;
    overflow: hidden;
  }
  
  .module h2 {
    background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
    color: white;
    padding: 15px 20px;
    margin: 0;
    font-size: 1.1rem;
    font-weight: 600;
  }
  
  .module caption {
    background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
    color: white;
    padding: 15px 20px;
    text-align: left;
    font-size: 1.1rem;
    font-weight: 600;
    caption-side: top;
  }
  
  .dashboard .module table th {
    background: #f8f9fa;
    color: #495057;
    font-weight: 600;
    padding: 12px 15px;
    border-bottom: 2px solid #dee2e6;
  }
  
  .dashboard .module table td {
    padding: 12px 15px;
    border-bottom: 1px solid #f1f3f4;
  }
  
  .dashboard .module table tr:hover {
    background-color: #f8f9fa;
  }
  
  .button, input[type=submit], input[type=button], .submit-row input {
    background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
    border: none;
    border-radius: 8px;
    color: white;
    padding: 10px 20px;
    font-weight: 500;
    transition: all 0.3s ease;
  }
  
  .button:hover, input[type=submit]:hover, input[type=button]:hover {
    background: linear-gradient(135deg, var(--secondary) 0%, var(--primary) 100%);
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(0,0,0,0.2);
  }
  
  .breadcrumbs {
    background: #f8f9fa;
    border: none;
    padding: 15px 20px;
    border-radius: 8px;
    margin-bottom: 20px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.05);
  }
  
  .breadcrumbs a {
    color: var(--primary);
    text-decoration: none;
  }
  
  .breadcrumbs a:hover {
    color: var(--secondary);
    text-decoration: underline;
  }
  
  .object-tools {
    float: right;
    margin-bottom: 20px;
  }
  
  .object-tools a {
    background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
    color: white;
    padding: 10px 20px;
    border-radius: 8px;
    text-decoration: none;
    font-weight: 500;
    transition: all 0.3s ease;
  }
  
  .object-tools a:hover {
    background: linear-gradient(135deg, var(--secondary) 0%, var(--primary) 100%);
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(0,0,0,0.2);
  }
  
  .changelist-search {
    background: white;
    padding: 20px;
    border-radius: 12px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    margin-bottom: 20px;
  }
  
  .changelist-search input[type="text"] {
    border: 2px solid #e5e7eb;
    border-radius: 8px;
    padding: 10px 15px;
    width: 300px;
    transition: border-color 0.3s ease;
  }
  
  .changelist-search input[type="text"]:focus {
    border-color: var(--primary);
    outline: none;
    box-shadow: 0 0 0 3px rgba(0,0,0,0.08);
  }
  
  .results {
    background: white;
    border-radius: 12px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    overflow: hidden;
  }
  
  .results table {
    width: 100%;
    border-collapse: collapse;
  }
  
  .results th {
    background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
    color: #495057;
    font-weight: 600;
    padding: 15px;
    text-align: left;
    border-bottom: 2px solid #dee2e6;
  }
  
  .results td {
    padding: 12px 15px;
    border-bottom: 1px solid #f1f3f4;
  }
  
  .results tr:hover {
    background-color: #f8f9fa;
  }
  
  .results tr:nth-child(even) {
    background-color: #fdfdfe;
  }
  
  .paginator {
    background: white;
    padding: 20px;
    border-radius: 12px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    margin-top: 20px;
    text-align: center;
  }
  
  .paginator a {
    background: #f8f9fa;
    color: #495057;
    padding: 8px 12px;
    margin: 0 2px;
    border-radius: 6px;
    text-decoration: none;
    transition: all 0.3s ease;
  }
  
  .paginator a:hover {
    background: var(--primary);
    color: white;
  }
  
  .paginator .current {
    background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
    color: white;
    padding: 8px 12px;
    margin: 0 2px;
    border-radius: 6px;
  }
  
  /* Form styling */
  .form-row {
    background: white;
    padding: 20px;
    border-radius: 12px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    margin-bottom: 20px;
  }
  
  .form-row label {
    color: #374151;
    font-weight: 600;
    margin-bottom: 8px;
    display: block;
  }
  
  .form-row input, .form-row textarea, .form-row select {
    border: 2px solid #e5e7eb;
    border-radius: 8px;
    padding: 10px 15px;
    width: 100%;
    transition: border-color 0.3s ease;
  }
  
  .form-row input:focus, .form-row textarea:focus, .form-row select:focus {
    border-color: var(--primary);
    outline: none;
    box-shadow: 0 0 0 3px rgba(0,0,0,0.08);
  }
  
  .help {
    color: #6b7280;
    font-size: 0.875rem;
    margin-top: 5px;
  }
  
  .errorlist {
    background: #fef2f2;
    border: 1px solid #fca5a5;
    border-radius: 8px;
    padding: 10px 15px;
    margin-top: 5px;
    color: #dc2626;
  }
  
  /* Success messages */
  .messagelist {
    margin: 0 0 20px;
  }
  
  .messagelist li {
    background: #f0fdf4;
    border: 1px solid #bbf7d0;
    border-radius: 8px;
    color: #166534;
    padding: 15px 20px;
    margin-bottom: 10px;
    list-style: none;
  }
  
  .messagelist .success {
    background: #f0fdf4;
    border-color: #bbf7d0;
    color: #166534;
  }
  
  .messagelist .error {
    background: #fef2f2;
    border-color: #fca5a5;
    color: #dc2626;
  }
  
  .messagelist .warning {
    background: #fffbeb;
    border-color: #fed7aa;
    color: #d97706;
  }
</style>
{% endblock %}

{% block extrastyle %}
{{ block.super }}
{% endblock %}

{% block footer %}
<div style="background: #f8f9fa; padding: 20px; text-align: center; color: #6b7280; border-top: 1px solid #e5e7eb;">
  <p>&copy; 2024 Portfolio Admin Dashboard. Built with Django.</p>
</div>
{% endblock %}
